# CSS - Positioning and Stacking

## 1. Types of positioning

Positioning is a way to specify the location of an element anywhere on the page with pixel precision.

Property: **position**

Values: `static` | `relative` | `absolute` | `fixed` | `sticky`

Default: `static`

Applies to: all elements

Inherits: no

- **static**: The normal position scheme in which elements are positioned as they occur in the normal document flow
- **relative**: Relative positioning moves the element box relative to its original position in the flow. The distinctive behavior of relative positioning is that the space the element would have occupied in the normal flow is preserved as empty space. Relative positioning is commonly used to create a "positioning context" for an absolutely positioned element.
- **absolute**: Absolutely positioned elements are removed from the document flow entirely and positioned with respect to the viewport or a containing element. Basically:

  - If the positioned element is not contained within another positioned element, then it will be placed relative to the initial containing block (created by the html element).

  - But if the element has an ancestor (i.e., is contained within an element) that has its position set to **relative**, **absolute**, or **fixed**, the element will be positioned relative to the edges of that element instead. Unlike relatively positioned elements, the space they would have occupied is closed up. In fact, they have no influence at all on the layout of surrounding elements.

- **fixed**: The distinguishing characteristic of fixed positioning is that the element stays in one position in the viewport even when the document scrolls. Fixed elements are removed from the document flow and positioned relative to the viewport rather than another element in the document.
- **sticky**: Sticky positioning is a combination of relative and fixed in that it behaves as though it is relatively positioned, until it is scrolled into a specified position relative to the viewport, at which point it remains fixed.

Once you've established the positioning method, the actual position is specified with some combination of up to four offset properties: `top`, `right`, `bottom`, `left`.

**Note**: Negative values are acceptable and move the element in the opposite direction of positive values. For example, a negative value for `top` would have the effect of moving the element up.

**Example: (See the change in the yellow box)**

<CH.Scrollycoding preset="https://codesandbox.io/s/intro-flexbox-cee98w">

{/* id:1 */}

position: static;

```html index.html focus=46[41:64]
<style>
  #example-element {
    background-color: #ff0;
    border: 3px solid red;
    z-index: 1;
  }
  .box + .box {
    margin-left: 10px;
  }
  .box {
    background-color: rgba(0, 0, 255, 0.2);
    border: 3px solid #00f;
    float: left;
    width: 65px;
    height: 65px;
  }
  * {
    box-sizing: border-box;
  }
  div {
    display: block;
  }
  #example-element-container {
    position: relative;
    text-align: left;
  }
  .output section {
    height: 100%;
    text-align: center;
  }
  body {
    color: var(--text-primary);
    background-color: var(--background-primary);
    margin: 0;
    padding: 0;
    height: 100%;
    font: var(--type-body-l);
  }
</style>
<div id="example-element-container">
  <p>
    In this demo you can control the <code>position</code> property for the
    yellow box.
  </p>
  <div class="box"></div>
  <div class="box" id="example-element" style="position: static"></div>
  <div class="box"></div>
</div>
```

---

{/* id:2 */}
position: relative;
top: 40px; left: 40px;

```html index.html focus=49
<style>
  #example-element {
    background-color: #ff0;
    border: 3px solid red;
    z-index: 1;
  }
  .box + .box {
    margin-left: 10px;
  }
  .box {
    background-color: rgba(0, 0, 255, 0.2);
    border: 3px solid #00f;
    float: left;
    width: 65px;
    height: 65px;
  }
  * {
    box-sizing: border-box;
  }
  div {
    display: block;
  }
  #example-element-container {
    position: relative;
    text-align: left;
  }
  .output section {
    height: 100%;
    text-align: center;
  }
  body {
    color: var(--text-primary);
    background-color: var(--background-primary);
    margin: 0;
    padding: 0;
    height: 100%;
    font: var(--type-body-l);
  }
</style>
<div id="example-element-container">
  <p>
    In this demo you can control the <code>position</code> property for the
    yellow box.
  </p>
  <div class="box"></div>
  <div
    class="box"
    id="example-element"
    style="position: relative; top: 40px; left: 40px;"
  ></div>
  <div class="box"></div>
</div>
```

---

{/* id:3 */}

position: absolute; top: 40px; left: 40px;

```html index.html focus=49
<style>
  #example-element {
    background-color: #ff0;
    border: 3px solid red;
    z-index: 1;
  }
  .box + .box {
    margin-left: 10px;
  }
  .box {
    background-color: rgba(0, 0, 255, 0.2);
    border: 3px solid #00f;
    float: left;
    width: 65px;
    height: 65px;
  }
  * {
    box-sizing: border-box;
  }
  div {
    display: block;
  }
  #example-element-container {
    position: relative;
    text-align: left;
  }
  .output section {
    height: 100%;
    text-align: center;
  }
  body {
    color: var(--text-primary);
    background-color: var(--background-primary);
    margin: 0;
    padding: 0;
    height: 100%;
    font: var(--type-body-l);
  }
</style>
<div id="example-element-container">
  <p>
    In this demo you can control the <code>position</code> property for the
    yellow box.
  </p>
  <div class="box"></div>
  <div
    class="box"
    id="example-element"
    style="position: absolute; top: 40px; left: 40px;"
  ></div>
  <div class="box"></div>
</div>
```

---

{/* id:4 */}
position: sticky; top: 20px;

```html index.html focus=53
<style>
  #example-element {
    background-color: #ff0;
    border: 3px solid red;
    z-index: 1;
  }
  .box + .box {
    margin-left: 10px;
  }
  .box {
    background-color: rgba(0, 0, 255, 0.2);
    border: 3px solid #00f;
    float: left;
    width: 65px;
    height: 65px;
  }
  * {
    box-sizing: border-box;
  }
  div {
    display: block;
  }
  #example-element-container {
    position: relative;
    text-align: left;
  }
  .output section {
    height: 100%;
    text-align: center;
  }
  body {
    color: var(--text-primary);
    background-color: var(--background-primary);
    margin: 0;
    padding: 0;
    height: 100%;
    font: var(--type-body-l);
  }
</style>
<div id="example-element-container">
  <p>
    In this demo you can control the <code>position</code> property for the
    yellow box.
  </p>
  <div
    id="sticky-container"
    style="display:flex; height:100vh; position:relative;"
  >
    <div class="box"></div>
    <div
      class="box"
      id="example-element"
      style="position: sticky; top: 20px"
    ></div>
    <div class="box"></div>
  </div>
</div>
```

---

</CH.Scrollycoding>

## 2. Stacking Order

By default, elements stack up in the order in which they appear in the document, but you can change the stacking order with the `z-index` property.

Property: **`z-index`**

Values: `number` | `auto`

Default: `auto`

Applies to: positioned elements

Inherits: no

The value of the `z-index` property is a number (positive or negative). The higher the number, the higher the element will appear in the stack (that is, closer to your nose).

**Example: (See the change in the yellow box)**

<CH.Scrollycoding preset="https://codesandbox.io/s/intro-flexbox-cee98w">

z-index: auto;

```html index.html focus=79[31:51]
<style>
  .position1 {
    top: 0;
    left: 0;
    z-index: 6;
  }
  .position2 {
    top: 30px;
    left: 30px;
    z-index: 4;
  }
  .position3 {
    top: 60px;
    left: 60px;
    z-index: 2;
  }
  .position4 {
    top: 150px;
    left: 0;
    z-index: auto;
  }
  .position5 {
    top: 180px;
    left: 30px;
    z-index: auto;
  }
  .position6 {
    top: 210px;
    left: 60px;
    z-index: auto;
  }

  #example-element {
    top: 15px;
    left: 15px;
    width: 180px;
    height: 230px;
    position: absolute;
    line-height: 215px;
    font-family: monospace;
    background-color: #fcfbe5;
    border: solid 5px #e3e0a1;
    z-index: auto;
    color: #000;
  }

  * {
    box-sizing: border-box;
  }

  div {
    display: block;
  }
  .blue {
    background-color: #e7feff;
    border: solid 5px #87ceeb;
    line-height: 55px;
  }

  .red {
    background-color: #fce5e7;
    border: solid 5px #e3a1a7;
  }

  .block {
    width: 150px;
    height: 50px;
    position: absolute;
    font-family: monospace;
    color: #000;
  }
  .output section {
    height: 100%;
    text-align: center;
  }
</style>
<div id="output" class="output large">
  <section id="default-example" class="default-example container">
    <div id="example-element" style="z-index: auto">z-index: auto</div>
    <div class="block blue position1">z-index: 6</div>
    <div class="block blue position2">z-index: 4</div>
    <div class="block blue position3">z-index: 2</div>
    <div class="block red position4">z-index: auto</div>
    <div class="block red position5">z-index: auto</div>
    <div class="block red position6">z-index: auto</div>
  </section>
</div>
```

---

z-index: 1;

```html index.html  focus=79[31:48]
<style>
  .position1 {
    top: 0;
    left: 0;
    z-index: 6;
  }
  .position2 {
    top: 30px;
    left: 30px;
    z-index: 4;
  }
  .position3 {
    top: 60px;
    left: 60px;
    z-index: 2;
  }
  .position4 {
    top: 150px;
    left: 0;
    z-index: auto;
  }
  .position5 {
    top: 180px;
    left: 30px;
    z-index: auto;
  }
  .position6 {
    top: 210px;
    left: 60px;
    z-index: auto;
  }

  #example-element {
    top: 15px;
    left: 15px;
    width: 180px;
    height: 230px;
    position: absolute;
    line-height: 215px;
    font-family: monospace;
    background-color: #fcfbe5;
    border: solid 5px #e3e0a1;
    z-index: auto;
    color: #000;
  }

  * {
    box-sizing: border-box;
  }

  div {
    display: block;
  }
  .blue {
    background-color: #e7feff;
    border: solid 5px #87ceeb;
    line-height: 55px;
  }

  .red {
    background-color: #fce5e7;
    border: solid 5px #e3a1a7;
  }

  .block {
    width: 150px;
    height: 50px;
    position: absolute;
    font-family: monospace;
    color: #000;
  }
  .output section {
    height: 100%;
    text-align: center;
  }
</style>
<div id="output" class="output large">
  <section id="default-example" class="default-example container">
    <div id="example-element" style="z-index: 1">z-index: 1</div>
    <div class="block blue position1">z-index: 6</div>
    <div class="block blue position2">z-index: 4</div>
    <div class="block blue position3">z-index: 2</div>
    <div class="block red position4">z-index: auto</div>
    <div class="block red position5">z-index: auto</div>
    <div class="block red position6">z-index: auto</div>
  </section>
</div>
```

---

z-index: 3;

```html index.html focus=79[31:48]
<style>
  .position1 {
    top: 0;
    left: 0;
    z-index: 6;
  }
  .position2 {
    top: 30px;
    left: 30px;
    z-index: 4;
  }
  .position3 {
    top: 60px;
    left: 60px;
    z-index: 2;
  }
  .position4 {
    top: 150px;
    left: 0;
    z-index: auto;
  }
  .position5 {
    top: 180px;
    left: 30px;
    z-index: auto;
  }
  .position6 {
    top: 210px;
    left: 60px;
    z-index: auto;
  }

  #example-element {
    top: 15px;
    left: 15px;
    width: 180px;
    height: 230px;
    position: absolute;
    line-height: 215px;
    font-family: monospace;
    background-color: #fcfbe5;
    border: solid 5px #e3e0a1;
    z-index: auto;
    color: #000;
  }

  * {
    box-sizing: border-box;
  }

  div {
    display: block;
  }
  .blue {
    background-color: #e7feff;
    border: solid 5px #87ceeb;
    line-height: 55px;
  }

  .red {
    background-color: #fce5e7;
    border: solid 5px #e3a1a7;
  }

  .block {
    width: 150px;
    height: 50px;
    position: absolute;
    font-family: monospace;
    color: #000;
  }
  .output section {
    height: 100%;
    text-align: center;
  }
</style>
<div id="output" class="output large">
  <section id="default-example" class="default-example container">
    <div id="example-element" style="z-index: 3">z-index: 3</div>
    <div class="block blue position1">z-index: 6</div>
    <div class="block blue position2">z-index: 4</div>
    <div class="block blue position3">z-index: 2</div>
    <div class="block red position4">z-index: auto</div>
    <div class="block red position5">z-index: auto</div>
    <div class="block red position6">z-index: auto</div>
  </section>
</div>
```

---

z-index: 5;

```html index.html focus=79[31:48]
<style>
  .position1 {
    top: 0;
    left: 0;
    z-index: 6;
  }
  .position2 {
    top: 30px;
    left: 30px;
    z-index: 4;
  }
  .position3 {
    top: 60px;
    left: 60px;
    z-index: 2;
  }
  .position4 {
    top: 150px;
    left: 0;
    z-index: auto;
  }
  .position5 {
    top: 180px;
    left: 30px;
    z-index: auto;
  }
  .position6 {
    top: 210px;
    left: 60px;
    z-index: auto;
  }

  #example-element {
    top: 15px;
    left: 15px;
    width: 180px;
    height: 230px;
    position: absolute;
    line-height: 215px;
    font-family: monospace;
    background-color: #fcfbe5;
    border: solid 5px #e3e0a1;
    z-index: auto;
    color: #000;
  }

  * {
    box-sizing: border-box;
  }

  div {
    display: block;
  }
  .blue {
    background-color: #e7feff;
    border: solid 5px #87ceeb;
    line-height: 55px;
  }

  .red {
    background-color: #fce5e7;
    border: solid 5px #e3a1a7;
  }

  .block {
    width: 150px;
    height: 50px;
    position: absolute;
    font-family: monospace;
    color: #000;
  }
  .output section {
    height: 100%;
    text-align: center;
  }
</style>
<div id="output" class="output large">
  <section id="default-example" class="default-example container">
    <div id="example-element" style="z-index: 5">z-index: 5</div>
    <div class="block blue position1">z-index: 6</div>
    <div class="block blue position2">z-index: 4</div>
    <div class="block blue position3">z-index: 2</div>
    <div class="block red position4">z-index: auto</div>
    <div class="block red position5">z-index: auto</div>
    <div class="block red position6">z-index: auto</div>
  </section>
</div>
```

---

z-index: 7;

```html index.html focus=79[31:48]
<style>
  .position1 {
    top: 0;
    left: 0;
    z-index: 6;
  }
  .position2 {
    top: 30px;
    left: 30px;
    z-index: 4;
  }
  .position3 {
    top: 60px;
    left: 60px;
    z-index: 2;
  }
  .position4 {
    top: 150px;
    left: 0;
    z-index: auto;
  }
  .position5 {
    top: 180px;
    left: 30px;
    z-index: auto;
  }
  .position6 {
    top: 210px;
    left: 60px;
    z-index: auto;
  }

  #example-element {
    top: 15px;
    left: 15px;
    width: 180px;
    height: 230px;
    position: absolute;
    line-height: 215px;
    font-family: monospace;
    background-color: #fcfbe5;
    border: solid 5px #e3e0a1;
    z-index: auto;
    color: #000;
  }

  * {
    box-sizing: border-box;
  }

  div {
    display: block;
  }
  .blue {
    background-color: #e7feff;
    border: solid 5px #87ceeb;
    line-height: 55px;
  }

  .red {
    background-color: #fce5e7;
    border: solid 5px #e3a1a7;
  }

  .block {
    width: 150px;
    height: 50px;
    position: absolute;
    font-family: monospace;
    color: #000;
  }
  .output section {
    height: 100%;
    text-align: center;
  }
</style>
<div id="output" class="output large">
  <section id="default-example" class="default-example container">
    <div id="example-element" style="z-index: 7">z-index: 7</div>
    <div class="block blue position1">z-index: 6</div>
    <div class="block blue position2">z-index: 4</div>
    <div class="block blue position3">z-index: 2</div>
    <div class="block red position4">z-index: auto</div>
    <div class="block red position5">z-index: auto</div>
    <div class="block red position6">z-index: auto</div>
  </section>
</div>
```

---

</CH.Scrollycoding>

## 3. Additional reading

<a href="https://css-tricks.com/centering-css-complete-guide/" target="_blank">
  You can center things in CSS
</a>

<a href="https://cssreference.io/positioning/" target="_blank">
  CSS Reference - Positioning
</a>
